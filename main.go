package main

import (
	"fmt"
	"log"
	"time"

	"github.com/krisukox/google-flights-api/api"
	"golang.org/x/text/currency"
)

func main() {
	date, _ := time.Parse("2006-01-02", "2023-11-01")
	returnDate, _ := time.Parse("2006-01-02", "2023-11-08")
	// // url, err := api.CreateFullURL(departureDate, returnDate, "Wrocław", "Rzym")
	// // if err != nil {
	// // 	log.Fatalf(err.Error())
	// // }
	// // fmt.Println(url)

	// flights, err := api.GetFlights(departureDate, returnDate, "Wrocław", "Madryt", currency.PLN)
	// if err != nil {
	// 	log.Fatalf(err.Error())
	// }
	// for _, flight := range flights {
	// 	fmt.Printf("%+v\n", flight)
	// }

	// city, _ := api.GetSerializedCityName("Wrocław")
	// fmt.Println(city)
	// city2, _ := api.GetSerializedCityName("Madryt")
	// fmt.Println(city2)

	// a := []byte(`[["wrb.fr",null,"[[null,[[1687971197051633,93406799,1510632127],null,null,null,null,[[2]]],0,\"fWWcZLGTA8-MxdwPv9Wp0AU\",\"HGB4qh2rimFMAADDFgBG----------lmcc6AAAAAGScZX0BEAuAA\"],[[[[[\"/m/0845b\",4],\"Wrocław\",[\"/m/0845b\",\"Wrocław\",[[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcRS29QCr3XFmvlkkSWkapD7Q6WEkLC4b8yCfJZ7t6yUjNDo4ZUKQ7Ho5v3Mf5ciwYoUMja7D_9zwYFYhfK_JcB4FuvCPYnrLOXd-Z3mlW4\"],[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcTuK5U1godVorSDHgJi5Fwa4LtjGc1OtbTOByVabXK6G1ve-XGABbTRAbBJdKy_VPM3Foz0bUI2MKYGLQ\"]],\"Centennial Hall \\u0026 Panorama of Racławice\",\"City in western Poland with Centennial Hall, the Panorama of Racławice painting \\u0026 Market Square.\"],[51.1078852,17.0385376],\"PL\",null,\"Poland\"]],[[[\"/m/06c62\",5],\"Rome\",[\"/m/06c62\",\"Rome\",[[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcRM_5snkSVZsnpG8dhW0NGx_Pdwk592nbBjmyqu-UxZDclvuBr6HXfXd0Fm7TYGVQpVCCr4RC6TGTmOgyP6KwpvZr0tGGnpZ7ukzP8RPLA\"],[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcT2IU9ZUmvhvThfVJdnmh0sazh2RYI04-GSv0_GLCW7m3TnPpi1XYRNkIuXyL-bdJRgPn7Akcbg6zmDzw\"]],\"The Colosseum, iconic art \\u0026 the Vatican\",\"Italy's capital, home to the Vatican as well as world-class art \\u0026 ancient ruins like the Colosseum.\"],[41.9027835,12.4963655],\"IT\",null,\"Italy\"]]],[[[[\"/m/06c62\",5],\"Rome\",[\"/m/06c62\",\"Rome\",[[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcRM_5snkSVZsnpG8dhW0NGx_Pdwk592nbBjmyqu-UxZDclvuBr6HXfXd0Fm7TYGVQpVCCr4RC6TGTmOgyP6KwpvZr0tGGnpZ7ukzP8RPLA\"],[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcT2IU9ZUmvhvThfVJdnmh0sazh2RYI04-GSv0_GLCW7m3TnPpi1XYRNkIuXyL-bdJRgPn7Akcbg6zmDzw\"]],\"The Colosseum, iconic art \\u0026 the Vatican\",\"Italy's capital, home to the Vatican as well as world-class art \\u0026 ancient ruins like the Colosseum.\"],[41.9027835,12.4963655],\"IT\",null,\"Italy\"]],[[[\"/m/0845b\",4],\"Wrocław\",[\"/m/0845b\",\"Wrocław\",[[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcRS29QCr3XFmvlkkSWkapD7Q6WEkLC4b8yCfJZ7t6yUjNDo4ZUKQ7Ho5v3Mf5ciwYoUMja7D_9zwYFYhfK_JcB4FuvCPYnrLOXd-Z3mlW4\"],[\"https://encrypted-tbn1.gstatic.com/images?q\\u003dtbn:ANd9GcTuK5U1godVorSDHgJi5Fwa4LtjGc1OtbTOByVabXK6G1ve-XGABbTRAbBJdKy_VPM3Foz0bUI2MKYGLQ\"]],\"Centennial Hall \\u0026 Panorama of Racławice\",\"City in western Poland with Centennial Hall, the Panorama of Racławice painting \\u0026 Market Square.\"],[51.1078852,17.0385376],\"PL\",null,\"Poland\"]]]],[[[[\"LH\",[\"Lufthansa\"],[[null,null,\"Lufthansa CityLine\",\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Munich International Airport\",\"MUC\",null,[17,25],null,[18,35],70,[],1,\"31 in\",null,1,\"Canadair RJ 900\",null,false,[2023,11,1],[2023,11,1],[\"LH\",\"1633\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"31 inches\",67670],[null,null,null,\"MUC\",\"Munich International Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[21,10],null,[22,40],90,[],1,\"30 in\",null,1,\"Airbus A320\",null,false,[2023,11,1],[2023,11,1],[\"LH\",\"1872\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"30 inches\",66996]],\"WRO\",[2023,11,1],[17,25],\"FCO\",[2023,11,1],[22,40],315,null,null,false,[[155,\"MUC\",\"MUC\",null,\"Munich International Airport\",\"Munich\",\"Munich International Airport\",\"Munich\"]],null,null,null,\"ImtiR\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[4]]],1,null,null,[null,null,1,-18,null,true,true,135000,164000,null,141000,2],[1],[[\"LH\",\"Lufthansa\",\"https://www.lufthansa.com/de/en/travelling-with-special-requirements\"]]],[[null,508],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEg1MSDE2MzN8TEgxODcyGgsI74wDEAIaA1BMTjgccLBg\"],null,true,[],[false,false,false],false,[],\"[\\\"CAISA1BMThoECO+MAyLUAQq6AQpbCgNXUk8SGTIwMjMtMTEtMDFUMTc6MjU6MDArMDE6MDAaA01VQyIZMjAyMy0xMS0wMVQxODozNTowMCswMTowMCoCTEgyBDE2MzM6AkxIQgQxNjMzSAFSA0NSOQpbCgNNVUMSGTIwMjMtMTEtMDFUMjE6MTA6MDArMDE6MDAaA0ZDTyIZMjAyMy0xMS0wMVQyMjo0MDowMCswMTowMCoCTEgyBDE4NzI6AkxIQgQxODcySAFSAzMyQRIE`)
	// b := []byte(`CAMQARgBKAAyCwoJTHVmdGhhbnNh\\\"]\",[[1]],false],[[\"LH\",[\"Lufthansa\"],[[null,null,\"Lufthansa CityLine\",\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Frankfurt Airport\",\"FRA\",null,[14,15],null,[15,40],85,[],3,\"32 in\",null,1,\"Embraer 190\",[null,true],false,[2023,11,1],[2023,11,1],[\"LH\",\"1373\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"32 inches\",81258],[null,null,null,\"FRA\",\"Frankfurt Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[20,40],null,[22,30],110,[null,null,null,null,null,true],2,\"29 in\",null,1,\"Airbus A320neo\",[null,true],false,[2023,11,1],[2023,11,1],[\"LH\",\"242\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"29 inches\",66407]],\"WRO\",[2023,11,1],[14,15],\"FCO\",[2023,11,1],[22,30],495,null,null,false,[[300,\"FRA\",\"FRA\",null,\"Frankfurt Airport\",\"Frankfurt\",\"Frankfurt Airport\",\"Frankfurt\"]],null,null,null,\"FmbFie\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[5]]],1,null,null,[null,null,1,-10,null,true,true,148000,164000,null,141000,2],[1],[[\"LH\",\"Lufthansa\",\"https://www.lufthansa.com/de/en/travelling-with-special-requirements\"]]],[[null,540],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEgxMSDEzNzN8TEgyNDIaCwi6pQMQAhoDUExOOBxwrGY\\u003d\"],null,false,[],[false,false,false],false,[],\"[\\\"CAISA1BMThoECLqlAyLSAQq4AQpbCgNXUk8SGTIwMjMtMTEtMDFUMTQ6MTU6MDArMDE6MDAaA0ZSQSIZMjAyMy0xMS0wMVQxNTo0MDowMCswMTowMCoCTEgyBDEzNzM6AkxIQgQxMzczSAFSA0U5MApZCgNGUkESGTIwMjMtMTEtMDFUMjA6NDA6MDArMDE6MDAaA0ZDTyIZMjAyMy0xMS0wMVQyMjozMDowMCswMTowMCoCTEgyAzI0MjoCTEhCAzI0MkgBUgMzMk4SBAgDEAEYASgAMgsKCUx1ZnRoYW5zYQ\\\\u003d\\\\u003d\\\"]\",[[1]],false],[[\"FR\",[\"Ryanair\"],[[null,null,null,\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[10,20],null,[12,40],140,null,null,null,null,1,\"Boeing 737\",null,false,[2023,11,1],[2023,11,1],[\"FR\",\"9455\",null,\"Ryanair\"],null,null,1,null,null,null,null,null,85730]],\"WRO\",[2023,11,1],[10,20],\"FCO\",[2023,11,1],[12,40],140,null,null,false,null,null,null,null,\"Kx8oCc\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[6]]],1,null,null,[null,null,1,-48,null,true,true,86000,164000,[true],141000,1],[1],[[\"FR\",\"Ryanair\",\"https://help.ryanair.com/hc/en-gb/sections/360005075858\"]]],[[null,698],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEgZGUjk0NTUaCwiooQQQAhoDUExOOBxwtoQB\"],null,false,[],[true,false,false],false,[],\"[\\\"CAISA1BMThoECKihBCJ0Cl0KWwoDV1JPEhkyMDIzLTExLTAxVDEwOjIwOjAwKzAxOjAwGgNGQ08iGTIwMjMtMTEtMDFUMTI6NDA6MDArMDE6MDAqAkZSMgQ5NDU1OgJGUkIEOTQ1NUgBUgM3M0gSBAgDEAEYASgAMgkKB1J5YW5haXI\\\\u003d\\\"]\",[[1]],false]],null,false,false,[1]],[[[[\"LH\",[\"Lufthansa\"],[[null,null,\"Lufthansa CityLine\",\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Munich International Airport\",\"MUC\",null,[6],null,[7,10],70,[],1,\"31 in\",null,1,\"Canadair RJ 900\",null,false,[2023,11,1],[2023,11,1],[\"LH\",\"1635\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"31 inches\",67670],[null,null,null,\"MUC\",\"Munich International Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[13,40],null,[15,10],90,[null,null,null,null,null,true],2,\"29 in\",null,1,\"Airbus A320\",null,false,[2023,11,1],[2023,11,1],[\"LH\",\"1868\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"29 inches\",66996]],\"WRO\",[2023,11,1],[6],\"FCO\",[2023,11,1],[15,10],550,null,null,false,[[390,\"MUC\",\"MUC\",null,\"Munich International Airport\",\"Munich\",\"Munich International Airport\",\"Munich\"]],null,null,null,\"dKOnF\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[8]]],1,null,null,[null,null,1,-18,null,true,true,135000,164000,null,141000,2],[1],[[\"LH\",\"Lufthansa\",\"https://www.lufthansa.com/de/en/travelling-with-special-requirements\"]]],[[null,628],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEg1MSDE2MzV8TEgxODY4GgsI7ekDEAIaA1BMTjgccPp2\"],null,false,[],[false,false,false],false,[],\"[\\\"CAISA1BMThoECO3pAyLUAQCAMQARgBKAAyCwoJTHVmdGhhbnNh\\\"]\",[[1]],false],[[\"LH\",[\"Lufthansa\"],[[null,null,\"Lufthansa CityLine\",\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Frankfurt Airport\",\"FRA\",null,[14,15],null,[15,40],85,[],3,\"32 in\",null,1,\"Embraer 190\",[null,true],false,[2023,11,1],[2023,11,1],[\"LH\",\"1373\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"32 inches\",81258],[null,null,null,\"FRA\",\"Frankfurt Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[20,40],null,[22,30],110,[null,null,null,null,null,true],2,\"29 in\",null,1,\"Airbus A320neo\",[null,true],false,[2023,11,1],[2023,11,1],[\"LH\",\"242\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"29 inches\",66407]],\"WRO\",[2023,11,1],[14,15],\"FCO\",[2023,11,1],[22,30],495,null,null,false,[[300,\"FRA\",\"FRA\",null,\"Frankfurt Airport\",\"Frankfurt\",\"Frankfurt Airport\",\"Frankfurt\"]],null,null,null,\"FmbFie\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[5]]],1,null,null,[null,null,1,-10,null,true,true,148000,164000,null,141000,2],[1],[[\"LH\",\"Lufthansa\",\"https://www.lufthansa.com/de/en/travelling-with-special-requirements\"]]],[[null,540],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEgxMSDEzNzN8TEgyNDIaCwi6pQMQAhoDUExOOBxwrGY\\u003d\"],null,false,[],[false,false,false],false,[],\"[\\\"CAISA1BMThoECLqlAyLSAQq4AQpbCgNXUk8SGTIwMjMtMTEtMDFUMTQ6MTU6MDArMDE6MDAaA0ZSQSIZMjAyMy0xMS0wMVQxNTo0MDowMCswMTowMCoCTEgyBDEzNzM6AkxIQgQxMzczSAFSA0U5MApZCgNGUkESGTIwMjMtMTEtMDFUMjA6NDA6MDArMDE6MDAaA0ZDTyIZMjAyMy0xMS0wMVQyMjozMDowMCswMTowMCoCTEgyAzI0MjoCTEhCAzI0MkgBUgMzMk4SBAgDEAEYASgAMgsKCUx1ZnRoYW5zYQ\\\\u003d\\\\u003d\\\"]\",[[1]],false],[[\"FR\",[\"Ryanair\"],[[null,null,null,\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[10,20],null,[12,40],140,null,null,null,null,1,\"Boeing 737\",null,false,[2023,11,1],[2023,11,1],[\"FR\",\"9455\",null,\"Ryanair\"],null,null,1,null,null,null,null,null,85730]],\"WRO\",[2023,11,1],[10,20],\"FCO\",[2023,11,1],[12,40],140,null,null,false,null,null,null,null,\"Kx8oCc\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[6]]],1,null,null,[null,null,1,-48,null,true,true,86000,164000,[true],141000,1],[1],[[\"FR\",\"Ryanair\",\"https://help.ryanair.com/hc/en-gb/sections/360005075858\"]]],[[null,698],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEgZGUjk0NTUaCwiooQQQAhoDUExOOBxwtoQB\"],null,false,[],[true,false,false],false,[],\"[\\\"CAISA1BMThoECKihBCJ0Cl0KWwoDV1JPEhkyMDIzLTExLTAxVDEwOjIwOjAwKzAxOjAwGgNGQ08iGTIwMjMtMTEtMDFUMTI6NDA6MDArMDE6MDAqAkZSMgQ5NDU1OgJGUkIEOTQ1NUgBUgM3M0gSBAgDEAEYASgAMgkKB1J5YW5haXI\\\\u003d\\\"]\",[[1]],false]],null,false,false,[1]],[[[[\"LH\",[\"Lufthansa\"],[[null,null,\"Lufthansa CityLine\",\"WRO\",\"Wrocław Nicolaus Copernicus Airport\",\"Munich International Airport\",\"MUC\",null,[6],null,[7,10],70,[],1,\"31 in\",null,1,\"Canadair RJ 900\",null,false,[2023,11,1],[2023,11,1],[\"LH\",\"1635\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"31 inches\",67670],[null,null,null,\"MUC\",\"Munich International Airport\",\"Rome Fiumicino Leonardo da Vinci Airport\",\"FCO\",null,[13,40],null,[15,10],90,[null,null,null,null,null,true],2,\"29 in\",null,1,\"Airbus A320\",null,false,[2023,11,1],[2023,11,1],[\"LH\",\"1868\",null,\"Lufthansa\"],null,null,1,null,null,null,null,\"29 inches\",66996]],\"WRO\",[2023,11,1],[6],\"FCO\",[2023,11,1],[15,10],550,null,null,false,[[390,\"MUC\",\"MUC\",null,\"Munich International Airport\",\"Munich\",\"Munich International Airport\",\"Munich\"]],null,null,null,\"dKOnF\",[[1687971197051633,93406799,1510632127],null,null,null,null,[[8]]],1,null,null,[null,null,1,-18,null,true,true,135000,164000,null,141000,2],[1],[[\"LH\",\"Lufthansa\",\"https://www.lufthansa.com/de/en/travelling-with-special-requirements\"]]],[[null,628],\"CjRIR0I0cWgycmltRk1BQURERmdCRy0tLS0tLS0tLS1sbWNjNkFBQUFBR1NjWlgwQkVBdUFBEg1MSDE2MzV8TEgxODY4GgsI7ekDEAIaA1BMTjgccPp2\"],null,false,[],[false,false,false],false,[],\"[\\\"CAISA1BMThoECO3pAyLUAQ`)
	// a = append(a, b...)

	// fmt.Println(string(a))

	trips, err := api.GetFlightsV2(date, returnDate, "Wrocław", "Rzym", currency.PLN)
	if err != nil {
		log.Fatalf(err.Error())
	}
	fmt.Println(trips)
}
